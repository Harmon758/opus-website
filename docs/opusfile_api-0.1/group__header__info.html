<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>opusfile: Header Information</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="opus_logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">opusfile
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Stand-alone decoder library for .opus files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Header Information</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpusHead.html">OpusHead</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ogg Opus bitstream information.  <a href="structOpusHead.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpusTags.html">OpusTags</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The metadata from an Ogg Opus stream.  <a href="structOpusTags.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad6f0329582430a828244045ac85a5417"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#gad6f0329582430a828244045ac85a5417">OPUS_CHANNEL_COUNT_MAX</a>&#160;&#160;&#160;(255)</td></tr>
<tr class="memdesc:gad6f0329582430a828244045ac85a5417"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of channels in an Ogg Opus stream.  <a href="#gad6f0329582430a828244045ac85a5417"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="member-group"></a>
Functions for manipulating header data</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp14ef5f819e97c870c128539ed1f334e3"></a>These functions manipulate the <a class="el" href="structOpusHead.html" title="Ogg Opus bitstream information.">OpusHead</a> and <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structures, which describe the audio parameters and tag-value metadata, respectively.</p>
<p>These can be used to query the headers returned by <code>libopusfile</code>, or to parse Opus headers from sources other than an Ogg Opus stream, provided they use the same format. </p>
</td></tr>
<tr class="memitem:gac3259b44ac8dfac93c7adf708de96d78"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#gac3259b44ac8dfac93c7adf708de96d78">opus_head_parse</a> (<a class="el" href="structOpusHead.html">OpusHead</a> *_head, const unsigned char *_data, size_t _len) OP_ARG_NONNULL(2)</td></tr>
<tr class="memdesc:gac3259b44ac8dfac93c7adf708de96d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the contents of the ID header packet of an Ogg Opus stream.  <a href="#gac3259b44ac8dfac93c7adf708de96d78"></a><br/></td></tr>
<tr class="memitem:gaac9c6e1916fba6e53152b936055d3db0"><td class="memItemLeft" align="right" valign="top">ogg_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#gaac9c6e1916fba6e53152b936055d3db0">opus_granule_sample</a> (const <a class="el" href="structOpusHead.html">OpusHead</a> *_head, ogg_int64_t _gp) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gaac9c6e1916fba6e53152b936055d3db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a granule position to a sample offset for a given Ogg Opus stream.  <a href="#gaac9c6e1916fba6e53152b936055d3db0"></a><br/></td></tr>
<tr class="memitem:gaed7c41a177cc7338ffec1e7ae57c59b1"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#gaed7c41a177cc7338ffec1e7ae57c59b1">opus_tags_parse</a> (<a class="el" href="structOpusTags.html">OpusTags</a> *_tags, const unsigned char *_data, size_t _len) OP_ARG_NONNULL(2)</td></tr>
<tr class="memdesc:gaed7c41a177cc7338ffec1e7ae57c59b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the contents of the 'comment' header packet of an Ogg Opus stream.  <a href="#gaed7c41a177cc7338ffec1e7ae57c59b1"></a><br/></td></tr>
<tr class="memitem:ga35f993f5a8f11337a6503a2f43996fea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#ga35f993f5a8f11337a6503a2f43996fea">opus_tags_init</a> (<a class="el" href="structOpusTags.html">OpusTags</a> *_tags) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga35f993f5a8f11337a6503a2f43996fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure.  <a href="#ga35f993f5a8f11337a6503a2f43996fea"></a><br/></td></tr>
<tr class="memitem:ga42bc0321740b618271c4cd0ae076d29a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#ga42bc0321740b618271c4cd0ae076d29a">opus_tags_add</a> (<a class="el" href="structOpusTags.html">OpusTags</a> *_tags, const char *_tag, const char *_value) OP_ARG_NONNULL(1) OP_ARG_NONNULL(2) OP_ARG_NONNULL(3)</td></tr>
<tr class="memdesc:ga42bc0321740b618271c4cd0ae076d29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a (tag, value) pair to an initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure.  <a href="#ga42bc0321740b618271c4cd0ae076d29a"></a><br/></td></tr>
<tr class="memitem:ga76ac5425d8c2ca9a994f84adfcc6cb98"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#ga76ac5425d8c2ca9a994f84adfcc6cb98">opus_tags_add_comment</a> (<a class="el" href="structOpusTags.html">OpusTags</a> *_tags, const char *_comment) OP_ARG_NONNULL(1) OP_ARG_NONNULL(2)</td></tr>
<tr class="memdesc:ga76ac5425d8c2ca9a994f84adfcc6cb98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a comment to an initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure.  <a href="#ga76ac5425d8c2ca9a994f84adfcc6cb98"></a><br/></td></tr>
<tr class="memitem:gad43a7ed5844debd7d4025335f096bc27"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#gad43a7ed5844debd7d4025335f096bc27">opus_tags_query</a> (const <a class="el" href="structOpusTags.html">OpusTags</a> *_tags, const char *_tag, int _count) OP_ARG_NONNULL(1) OP_ARG_NONNULL(2)</td></tr>
<tr class="memdesc:gad43a7ed5844debd7d4025335f096bc27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up a comment value by its tag.  <a href="#gad43a7ed5844debd7d4025335f096bc27"></a><br/></td></tr>
<tr class="memitem:ga6e0bbe5a717115180bf4aa596bd0b2d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#ga6e0bbe5a717115180bf4aa596bd0b2d1">opus_tags_query_count</a> (const <a class="el" href="structOpusTags.html">OpusTags</a> *_tags, const char *_tag) OP_ARG_NONNULL(1) OP_ARG_NONNULL(2)</td></tr>
<tr class="memdesc:ga6e0bbe5a717115180bf4aa596bd0b2d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the number of instances of a tag.  <a href="#ga6e0bbe5a717115180bf4aa596bd0b2d1"></a><br/></td></tr>
<tr class="memitem:ga16d4f85561a965d56e0c5177fa129c35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header__info.html#ga16d4f85561a965d56e0c5177fa129c35">opus_tags_clear</a> (<a class="el" href="structOpusTags.html">OpusTags</a> *_tags) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga16d4f85561a965d56e0c5177fa129c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure.  <a href="#ga16d4f85561a965d56e0c5177fa129c35"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="gad6f0329582430a828244045ac85a5417"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_CHANNEL_COUNT_MAX&#160;&#160;&#160;(255)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum number of channels in an Ogg Opus stream. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gac3259b44ac8dfac93c7adf708de96d78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int opus_head_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusHead.html">OpusHead</a> *&#160;</td>
          <td class="paramname"><em>_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the contents of the ID header packet of an Ogg Opus stream. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_head</td><td>Returns the contents of the parsed packet. The contents of this structure are untouched on error. This may be <code>NULL</code> to merely test the header for validity. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_data</td><td>The contents of the ID header packet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_len</td><td>The number of bytes of data in the ID header packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>0 on success or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>If the data does not start with the "OpusHead" string. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32" title="The ID header contained an unrecognized version number.">OP_EVERSION</a></td><td>If the version field signaled a version this library does not know how to parse. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3" title="The stream used a feature that is not implemented, such as an unsupported channel family...">OP_EIMPL</a></td><td>If the channel mapping family was 255, which general purpose players should not attempt to play. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>If the contents of the packet otherwise violate the Ogg Opus specification: <ul>
<li>
Insufficient data, </li>
<li>
Too much data for the known minor versions, </li>
<li>
An unrecognized channel mapping family, </li>
<li>
Zero channels or too many channels, </li>
<li>
Zero coded streams, </li>
<li>
Too many coupled streams, or </li>
<li>
An invalid channel mapping index. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaac9c6e1916fba6e53152b936055d3db0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t opus_granule_sample </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structOpusHead.html">OpusHead</a> *&#160;</td>
          <td class="paramname"><em>_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ogg_int64_t&#160;</td>
          <td class="paramname"><em>_gp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a granule position to a sample offset for a given Ogg Opus stream. </p>
<p>The sample offset is simply <code>_gp-_head-&gt;pre_skip</code>. Granule position values smaller than <a class="el" href="structOpusHead.html#ab448d3d3289d99f01dca8f19e878d57f" title="The number of samples that should be discarded from the beginning of the stream.">OpusHead::pre_skip</a> correspond to audio that should never be played, and thus have no associated sample offset. This function returns -1 for such values. This function also correctly handles extremely large granule positions, which may have wrapped around to a negative number when stored in a signed ogg_int64_t value. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_head</td><td>The <a class="el" href="structOpusHead.html" title="Ogg Opus bitstream information.">OpusHead</a> information from the ID header of the stream. </td></tr>
    <tr><td class="paramname">_gp</td><td>The granule position to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The sample offset associated with the given granule position (counting at a 48 kHz sampling rate), or the special value -1 on error (i.e., the granule position was smaller than the pre-skip amount). </dd></dl>

</div>
</div>
<a class="anchor" id="gaed7c41a177cc7338ffec1e7ae57c59b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int opus_tags_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the contents of the 'comment' header packet of an Ogg Opus stream. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">_tags</td><td>An uninitialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. This returns the contents of the parsed packet. The contents of this structure are untouched on error. This may be <code>NULL</code> to merely test the header for validity. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_data</td><td>The contents of the 'comment' header packet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_len</td><td>The number of bytes of data in the 'info' header packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>If the data does not start with the "OpusTags" string. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>If the contents of the packet otherwise violate the Ogg Opus specification. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed...">OP_EFAULT</a></td><td>If there wasn't enough memory to store the tags. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga35f993f5a8f11337a6503a2f43996fea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opus_tags_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </p>
<p>This should be called on a freshly allocated <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure before attempting to use it. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>The <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure to initialize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga42bc0321740b618271c4cd0ae076d29a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opus_tags_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a (tag, value) pair to an initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </p>
<dl class="section note"><dt>Note:</dt><dd>Neither <a class="el" href="group__header__info.html#ga42bc0321740b618271c4cd0ae076d29a" title="Add a (tag, value) pair to an initialized OpusTags structure.">opus_tags_add()</a> nor <a class="el" href="group__header__info.html#ga76ac5425d8c2ca9a994f84adfcc6cb98" title="Add a comment to an initialized OpusTags structure.">opus_tags_add_comment()</a> support values containing embedded NULs, although the bitstream format does support them. To add such tags, you will need to manipulate the <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure directly. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>The <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure to add the (tag, value) pair to. </td></tr>
    <tr><td class="paramname">_tag</td><td>A NUL-terminated, case-insensitive, ASCII string containing the tag to add (without an '=' character). </td></tr>
    <tr><td class="paramname">_value</td><td>A NUL-terminated UTF-8 containing the corresponding value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>0 on success, or a negative value on failure. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga76ac5425d8c2ca9a994f84adfcc6cb98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opus_tags_add_comment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a comment to an initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </p>
<dl class="section note"><dt>Note:</dt><dd>Neither <a class="el" href="group__header__info.html#ga76ac5425d8c2ca9a994f84adfcc6cb98" title="Add a comment to an initialized OpusTags structure.">opus_tags_add_comment()</a> nor <a class="el" href="group__header__info.html#ga42bc0321740b618271c4cd0ae076d29a" title="Add a (tag, value) pair to an initialized OpusTags structure.">opus_tags_add()</a> support comments containing embedded NULs, although the bitstream format does support them. To add such tags, you will need to manipulate the <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure directly. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>The <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure to add the comment to. </td></tr>
    <tr><td class="paramname">_comment</td><td>A NUL-terminated UTF-8 string containing the comment in "TAG=value" form. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>0 on success, or a negative value on failure. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad43a7ed5844debd7d4025335f096bc27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* opus_tags_query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up a comment value by its tag. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>An initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </td></tr>
    <tr><td class="paramname">_tag</td><td>The tag to look up. </td></tr>
    <tr><td class="paramname">_count</td><td>The instance of the tag. The same tag can appear multiple times, each with a distinct value, so an index is required to retrieve them all. The order in which these values appear is significant and should be preserved. Use <a class="el" href="group__header__info.html#ga6e0bbe5a717115180bf4aa596bd0b2d1" title="Look up the number of instances of a tag.">opus_tags_query_count()</a> to get the legal range for the <em>_count</em> parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A pointer to the queried tag's value. This points directly to data in the <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. It should not be modified or freed by the application, and modifications to the structure may invalidate the pointer. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>If no matching tag is found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6e0bbe5a717115180bf4aa596bd0b2d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opus_tags_query_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up the number of instances of a tag. </p>
<p>Call this first when querying for a specific tag and then iterate over the number of instances with separate calls to <a class="el" href="group__header__info.html#gad43a7ed5844debd7d4025335f096bc27" title="Look up a comment value by its tag.">opus_tags_query()</a> to retrieve all the values for that tag in order. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>An initialized <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </td></tr>
    <tr><td class="paramname">_tag</td><td>The tag to look up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The number of instances of this particular tag. </dd></dl>

</div>
</div>
<a class="anchor" id="ga16d4f85561a965d56e0c5177fa129c35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opus_tags_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td>
          <td class="paramname"><em>_tags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure. </p>
<p>This should be called on an <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure after it is no longer needed. It will free all memory used by the structure members. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_tags</td><td>The <a class="el" href="structOpusTags.html" title="The metadata from an Ogg Opus stream.">OpusTags</a> structure to clear. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
