<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>opusfile: Stream Information</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="opus_logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">opusfile
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">Stand-alone decoder library for .opus files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Stream Information</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="member-group"></a>
Functions for obtaining information about streams</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp77b9681e34c86cf7994f702bc36a679d"></a>These functions allow you to get basic information about a stream, including seekability, the number of links (for chained streams), plus the size, duration, bitrate, header parameters, and meta information for each link (or, where available, the stream as a whole).</p>
<p>Some of these (size, duration) are only available for seekable streams. You can also query the current stream position, link, and playback time, and instantaneous bitrate during playback.</p>
<p>Some of these functions may be used successfully on the partially open streams returned by <a class="el" href="group__stream__open__close.html#gafe0e84414bbd1b511b494b5c5cef3c0f" title="Partially open a stream using the given set of callbacks to access it.">op_test_callbacks()</a> or one of the associated convenience functions. Their documention will indicate so explicitly. </p>
</td></tr>
<tr class="memitem:gad2c4ce7e33f26bc59bb74b93c3e2dae4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gad2c4ce7e33f26bc59bb74b93c3e2dae4">op_seekable</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gad2c4ce7e33f26bc59bb74b93c3e2dae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the data source being read is seekable.  <a href="#gad2c4ce7e33f26bc59bb74b93c3e2dae4"></a><br/></td></tr>
<tr class="memitem:gac6dbe9a93a61ac11011aca5c86484325"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gac6dbe9a93a61ac11011aca5c86484325">op_link_count</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gac6dbe9a93a61ac11011aca5c86484325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of links in this chained stream.  <a href="#gac6dbe9a93a61ac11011aca5c86484325"></a><br/></td></tr>
<tr class="memitem:ga73611773e31501ae173a4c5b540764d6"><td class="memItemLeft" align="right" valign="top">opus_uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga73611773e31501ae173a4c5b540764d6">op_serialno</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga73611773e31501ae173a4c5b540764d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the serial number of the given link in a (possibly-chained) Ogg Opus stream.  <a href="#ga73611773e31501ae173a4c5b540764d6"></a><br/></td></tr>
<tr class="memitem:ga50a773332fdec81e5e25f7a05ca0d1fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga50a773332fdec81e5e25f7a05ca0d1fc">op_channel_count</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga50a773332fdec81e5e25f7a05ca0d1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the channel count of the given link in a (possibly-chained) Ogg Opus stream.  <a href="#ga50a773332fdec81e5e25f7a05ca0d1fc"></a><br/></td></tr>
<tr class="memitem:gae74ceb7baaa282b45071366a968dd964"><td class="memItemLeft" align="right" valign="top">opus_int64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gae74ceb7baaa282b45071366a968dd964">op_raw_total</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gae74ceb7baaa282b45071366a968dd964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total (compressed) size of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream, including all headers and Ogg muxing overhead.  <a href="#gae74ceb7baaa282b45071366a968dd964"></a><br/></td></tr>
<tr class="memitem:gadd26c34cadadef713b3377e44dfa7097"><td class="memItemLeft" align="right" valign="top">ogg_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gadd26c34cadadef713b3377e44dfa7097">op_pcm_total</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gadd26c34cadadef713b3377e44dfa7097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream.  <a href="#gadd26c34cadadef713b3377e44dfa7097"></a><br/></td></tr>
<tr class="memitem:gaf45d8cb3285923b23e919b14f2528d2b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structOpusHead.html">OpusHead</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gaf45d8cb3285923b23e919b14f2528d2b">op_head</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gaf45d8cb3285923b23e919b14f2528d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID header information for the given link in a (possibly chained) Ogg Opus stream.  <a href="#gaf45d8cb3285923b23e919b14f2528d2b"></a><br/></td></tr>
<tr class="memitem:ga4a49dca597baaaf0bab1279a088b1fbe"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structOpusTags.html">OpusTags</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga4a49dca597baaaf0bab1279a088b1fbe">op_tags</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga4a49dca597baaaf0bab1279a088b1fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the comment header information for the given link in a (possibly chained) Ogg Opus stream.  <a href="#ga4a49dca597baaaf0bab1279a088b1fbe"></a><br/></td></tr>
<tr class="memitem:gab92ff1d98dca5003e2e3c957d9b2fd40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#gab92ff1d98dca5003e2e3c957d9b2fd40">op_current_link</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gab92ff1d98dca5003e2e3c957d9b2fd40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the index of the current link.  <a href="#gab92ff1d98dca5003e2e3c957d9b2fd40"></a><br/></td></tr>
<tr class="memitem:ga634bacb65b5429f4e2e8df1685dfd0ab"><td class="memItemLeft" align="right" valign="top">opus_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga634bacb65b5429f4e2e8df1685dfd0ab">op_bitrate</a> (OggOpusFile *_of, int _li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga634bacb65b5429f4e2e8df1685dfd0ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the bitrate for a given link in a (possibly chained) Ogg Opus stream.  <a href="#ga634bacb65b5429f4e2e8df1685dfd0ab"></a><br/></td></tr>
<tr class="memitem:ga7e9e871615055673d5e3c7b4c1dfce80"><td class="memItemLeft" align="right" valign="top">opus_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga7e9e871615055673d5e3c7b4c1dfce80">op_bitrate_instant</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga7e9e871615055673d5e3c7b4c1dfce80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a) the last call to <a class="el" href="group__stream__info.html#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a>, b) the last seek, or c) the start of playback, whichever was most recent.  <a href="#ga7e9e871615055673d5e3c7b4c1dfce80"></a><br/></td></tr>
<tr class="memitem:ga326348429da958246c216774b591881c"><td class="memItemLeft" align="right" valign="top">opus_int64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga326348429da958246c216774b591881c">op_raw_tell</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga326348429da958246c216774b591881c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the current value of the position indicator for <em>_of</em>.  <a href="#ga326348429da958246c216774b591881c"></a><br/></td></tr>
<tr class="memitem:ga7040f7c1fad51a4fbceb5dc0a92ac1f9"><td class="memItemLeft" align="right" valign="top">ogg_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__info.html#ga7040f7c1fad51a4fbceb5dc0a92ac1f9">op_pcm_tell</a> (OggOpusFile *_of) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga7040f7c1fad51a4fbceb5dc0a92ac1f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the PCM offset of the next sample to be read.  <a href="#ga7040f7c1fad51a4fbceb5dc0a92ac1f9"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gad2c4ce7e33f26bc59bb74b93c3e2dae4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_seekable </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether or not the data source being read is seekable. </p>
<p>This is true if </p>
<ol>
<li>
The <code><a href="#op_seek_func">seek()</a></code> and <code><a href="#op_tell_func">tell()</a></code> callbacks are both non-<code>NULL</code>, </li>
<li>
The <code><a href="#op_seek_func">seek()</a></code> callback was successfully executed at least once, and </li>
<li>
The <code><a href="#op_tell_func">tell()</a></code> callback was successfully able to report the position indicator afterwards. </li>
</ol>
<p>This function may be called on partially-opened streams. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> whose seekable status is to be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A non-zero value if seekable, and 0 if unseekable. </dd></dl>

</div>
</div>
<a class="anchor" id="gac6dbe9a93a61ac11011aca5c86484325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_link_count </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of links in this chained stream. </p>
<p>This function may be called on partially-opened streams, but it will always return 1. The actual number of links is not known until the stream is fully opened. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the link count. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>For fully-open seekable sources, this returns the total number of links in the whole stream. For partially-open or unseekable sources, this always returns 1. </dd></dl>

</div>
</div>
<a class="anchor" id="ga73611773e31501ae173a4c5b540764d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_uint32 op_serialno </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the serial number of the given link in a (possibly-chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the serial number of the Opus stream in the first link. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the serial number. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose serial number should be retrieved. Use a negative number to get the serial number of the current link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The serial number of the given link. If <em>_li</em> is greater than the total number of links, this returns the serial number of the last link. If the source is not seekable, this always returns the serial number of the current link. </dd></dl>

</div>
</div>
<a class="anchor" id="ga50a773332fdec81e5e25f7a05ca0d1fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_channel_count </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the channel count of the given link in a (possibly-chained) Ogg Opus stream. </p>
<p>This is equivalent to <code>op_head(_of,_li)-&gt;channel_count</code>, but is provided for convenience. This function may be called on partially-opened streams, but it will always return the channel count of the Opus stream in the first link. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the channel count. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose channel count should be retrieved. Use a negative number to get the channel count of the current link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The channel count of the given link. If <em>_li</em> is greater than the total number of links, this returns the channel count of the last link. If the source is not seekable, this always returns the channel count of the current link. </dd></dl>

</div>
</div>
<a class="anchor" id="gae74ceb7baaa282b45071366a968dd964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int64 op_raw_total </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total (compressed) size of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream, including all headers and Ogg muxing overhead. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the compressed size. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose compressed size should be computed. Use a negative number to get the compressed size of the entire stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The compressed size of the entire stream if <em>_li</em> is negative, the compressed size of link <em>_li</em> if it is non-negative, or a negative value on error. The compressed size of the entire stream may be smaller than that of the underlying source if trailing garbage was detected in the file. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The source is not seekable (so we can't know the length), <em>_li</em> wasn't less than the total number of links in the stream, or the stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadd26c34cadadef713b3377e44dfa7097"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t op_pcm_total </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (possibly-chained) Ogg Opus stream. </p>
<p>Users looking for <code>op_time_total()</code> should use <a class="el" href="group__stream__info.html#gadd26c34cadadef713b3377e44dfa7097" title="Get the total PCM length (number of samples at 48 kHz) of the stream, or of an individual link in a (...">op_pcm_total()</a> instead. Because timestamps in Opus are fixed at 48 kHz, there is no need for a separate function to convert this to seconds (and leaving it out avoids introducing floating point to the API, for those that wish to avoid it). </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the PCM offset. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose PCM length should be computed. Use a negative number to get the PCM length of the entire stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The PCM length of the entire stream if <em>_li</em> is negative, the PCM length of link <em>_li</em> if it is non-negative, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The source is not seekable (so we can't know the length), <em>_li</em> wasn't less than the total number of links in the stream, or the stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf45d8cb3285923b23e919b14f2528d2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structOpusHead.html">OpusHead</a>* op_head </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ID header information for the given link in a (possibly chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the ID header information of the Opus stream in the first link. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the ID header information. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose ID header information should be retrieved. Use a negative number to get the ID header information of the current link. For an unseekable stream, <em>_li</em> is ignored, and the ID header information for the current link is always returned, if available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The contents of the ID header for the given link. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4a49dca597baaaf0bab1279a088b1fbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structOpusTags.html">OpusTags</a>* op_tags </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the comment header information for the given link in a (possibly chained) Ogg Opus stream. </p>
<p>This function may be called on partially-opened streams, but it will always return the tags from the Opus stream in the first link. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the comment header information. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose comment header information should be retrieved. Use a negative number to get the comment header information of the current link. For an unseekable stream, <em>_li</em> is ignored, and the comment header information for the current link is always returned, if available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The contents of the comment header for the given link, or <code>NULL</code> if this is an unseekable stream that encountered an invalid link. </dd></dl>

</div>
</div>
<a class="anchor" id="gab92ff1d98dca5003e2e3c957d9b2fd40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_current_link </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the index of the current link. </p>
<p>This is the link that produced the data most recently read by <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a> or its associated functions, or, after a seek, the link that the seek target landed in. Reading more data may advance the link index (even on the first read after a seek). </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the current link index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The index of the current link on success, or a negative value on failure. For seekable streams, this is a number between 0 and the value returned by <a class="el" href="group__stream__info.html#gac6dbe9a93a61ac11011aca5c86484325" title="Returns the number of links in this chained stream.">op_link_count()</a>. For unseekable streams, this value starts at 0 and increments by one each time a new link is encountered (even though <a class="el" href="group__stream__info.html#gac6dbe9a93a61ac11011aca5c86484325" title="Returns the number of links in this chained stream.">op_link_count()</a> always returns 1). </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga634bacb65b5429f4e2e8df1685dfd0ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int32 op_bitrate </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the bitrate for a given link in a (possibly chained) Ogg Opus stream. </p>
<p>The stream must be seekable to compute the bitrate. For unseekable streams, use <a class="el" href="group__stream__info.html#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a> to get periodic estimates. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the bitrate. </td></tr>
    <tr><td class="paramname">_li</td><td>The index of the link whose bitrate should be computed. USe a negative number to get the bitrate of the whole stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The bitrate on success, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open, the stream was not seekable, or <em>_li</em> was larger than the number of links. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7e9e871615055673d5e3c7b4c1dfce80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int32 op_bitrate_instant </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a) the last call to <a class="el" href="group__stream__info.html#ga7e9e871615055673d5e3c7b4c1dfce80" title="Compute the instantaneous bitrate, measured as the ratio of bits to playable samples decoded since a)...">op_bitrate_instant()</a>, b) the last seek, or c) the start of playback, whichever was most recent. </p>
<p>This will spike somewhat after a seek or at the start/end of a chain boundary, as pre-skip, pre-roll, and end-trimming causes samples to be decoded but not played. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the bitrate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The bitrate, in bits per second, or a negative value on error. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga4fd28e64a5cbe5e0ba163916199611a5" title="A request did not succeed.">OP_FALSE</a></td><td>No data has been decoded since any of the events described above. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga326348429da958246c216774b591881c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">opus_int64 op_raw_tell </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the current value of the position indicator for <em>_of</em>. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the position indicator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The byte position that is currently being read from. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7040f7c1fad51a4fbceb5dc0a92ac1f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t op_pcm_tell </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the PCM offset of the next sample to be read. </p>
<p>If the stream is not properly timestamped, this might not increment by the proper amount between reads, or even return monotonically increasing values. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to retrieve the PCM offset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The PCM offset of the next sample to be read. </dd></dl>
<dl class="retval"><dt>Return values:</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
